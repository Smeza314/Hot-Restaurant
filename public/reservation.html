<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hot Restaurant</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link rel="stylesheet" href="./res.css">
</head>
<body>
  
  <div class="container">

    <div class="row">
      <div class="col-sm-12" id="top">
        <p>Welcome to</p>
        <h1 class="display-4">🔥 Hot Restaurant</h1>
        <hr>
        <p>Book your seat before they are all gone!</p>
        <button class="btn btn-primary" id="tables">View Tables</button>
        <button onclick="window.location.href='./index.html'" class="btn btn-secondary" id="home">🏠 Home</button>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">

        <form id="card">
          <div class="mb-3">
            <div id="title" ><h2>Enter information below to make a reservation!</h2></div>
            <input id="name" type="text" class="form-control" placeholder="Name">
          </div>
          <div class="mb-3">
            <input id="email" type="text" class="form-control" placeholder="Email">
          </div>
          <div class="mb-3">
            <input id="phone" type="text" class="form-control" placeholder="Phone">
          </div>
          <div class="mb-3">
            <input id="id" type="text" class="form-control" placeholder="ID #">
          </div>
          <button id="submit" type="submit" class="btn btn-primary">Submit</button>
        </form>
        
      </div>
    </div>

  </div>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
    integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
    crossorigin="anonymous"></script>
  <script>
    
    document.getElementById("submit").addEventListener("click", event => {
      event.preventDefault()

      let name = document.getElementById("name").value
      let email = document.getElementById("email").value
      let phone = document.getElementById("phone").value
      let id = document.getElementById("id").value

      let newRes = {
        name: name,
        email: email,
        phone: phone,
        id: id
      }

      axios.post('/api/patrons', newRes)
        .then( res => {
          console.log(res)

          document.getElementById("name").value = ''
          document.getElementById("email").value = ''
          document.getElementById("phone").value = ''
          document.getElementById("id").value = ''
        })
        .catch(err => console.error(err))
    })

  </script>
</body>
</html>